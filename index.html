<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×¨×©×™××ª ×‘×“×™×§×” - ×”×©×›×¨×ª ×™××›×˜×”</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px 10px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 20px;
            height: 30px;
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .category {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .category-header:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .arrow {
            transition: transform 0.3s;
            font-size: 20px;
        }

        .arrow.open {
            transform: rotate(180deg);
        }

        .category-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .category-content.open {
            max-height: 2000px;
        }

        .checklist-item {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            transition: background-color 0.2s;
            cursor: pointer;
            user-select: none;
        }

        .checklist-item:hover {
            background-color: #f8f9fa;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checkbox-wrapper {
            position: relative;
            margin-left: 15px;
            flex-shrink: 0;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #667eea;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            background: white;
        }

        .checkbox.checked {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #764ba2;
            animation: checkAnimation 0.3s ease;
        }

        @keyframes checkAnimation {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        .checkmark {
            color: white;
            font-size: 18px;
            display: none;
        }

        .checkbox.checked .checkmark {
            display: block;
        }

        .item-text {
            flex: 1;
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }

        .item-text.checked {
            text-decoration: line-through;
            color: #999;
        }

        .reset-button {
            background: linear-gradient(135deg, #f44336 0%, #e91e63 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .reset-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(244, 67, 54, 0.4);
        }

        .stats {
            background: #1e1e2e;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .stats-text {
            font-size: 16px;
            color: #00d4ff;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ ×¨×©×™××ª ×‘×“×™×§×” - ×”×©×›×¨×ª ×™××›×˜×”</h1>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill">0%</div>
        </div>

        <div class="stats">
            <div class="stats-text" id="statsText">0 ××ª×•×š 0 ×¤×¨×™×˜×™× ×”×•×©×œ××•</div>
        </div>

        <div id="checklistContainer"></div>
        
        <button class="reset-button" onclick="resetChecklist()">ğŸ”„ ××™×¤×•×¡ ×¨×©×™××”</button>
    </div>

    <script>
        const checklistData = [
            {
                category: "×‘×“×™×§×” ×›×œ×œ×™×ª ×—×™×¦×•× ×™×ª",
                items: [
                    "×¦×™×œ×•× ×›×œ ×¤×’× ×©×”×ª×’×œ×” ×‘×’×•×£ ×”×¡×¤×™× ×” ×•×‘×ª×•×›×”",
                    "×‘×“×™×§×ª ×¤×’×™×¢×•×ª ×•×©×¨×™×˜×•×ª ×œ××•×¨×š ×”×’×•×£, ×”×—×¨×˜×•× ×•×¤×™× ×•×ª ×”×™×¨×›×ª×™×™×",
                    "×‘×“×™×§×ª ×™×¦×™×‘×•×ª ×•×©×œ××•×ª ×¢××•×“×™ ×”×¨×™×™×œ×™× ×’ ×•××ª×™×—×•×ª ×”×›×‘×œ",
                    "×¡×¤×™×¨×ª ×¤× ×“×¨×™× ×•×•×•×™×“×•× ×ª×§×™× ×•×ª ×”×§×©×¨ ×œ×¨×™×™×œ×™× ×’",
                    "×“×•×´×— ×¦×•×œ×œ×Ÿ ××”×”×¤×œ×’×” ×”×§×•×“××ª - ×ª×—×ª×™×ª ×”×™××›×˜×”"
                ]
            },
            {
                category: "×¤× ×™× ×”×™××›×˜×”",
                items: [
                    "×‘×“×™×§×ª ×”××¦×³×™× - ××˜×™××•×ª ×•×–×™×”×•×™ ×¡×“×§×™× ××• ×©×‘×¨×™×",
                    "×¡×¨×™×§×ª × ×–×§×™× ×‘××¨×•× ×•×ª, ×§×™×¨×•×ª, ×¤×’×™×¢×•×ª ×‘×¤××™×•×œ×™× ×•×“×œ×ª×•×ª",
                    "×‘×“×™×§×ª ××©×˜×—×™ ×”××˜×‘×— ×•×©×œ××•×ª ×”×’×× ×’Ö¾×•×•×™",
                    "×”×¤×¢×œ×ª ×”××§×¨×¨ ×œ×‘×“×™×§×ª ×§×™×¨×•×¨",
                    "×–×™×”×•×™ ×•×¡×¤×™×¨×ª ×›×œ ×”×¤×ª×—×™× ××ª×—×ª ×œ×¤× ×™ ×”××™× (×¡×™×§×•×§×™×)"
                ]
            },
            {
                category: "×× ×•×¢",
                items: [
                    "×‘×“×™×§×ª × ×•×–×œ×™× - ×©××Ÿ, ××™×, ×©×¢×•×Ÿ ×“×œ×§",
                    "×‘×“×™×§×ª ×¨×¦×•×¢×•×ª - ×©×œ××•×ª ×•×”××ª×— ×©×œ×”×Ÿ",
                    "××™×§×•× ×¤×ª×— ××™×œ×•×™ ×“×œ×§ ×‘×¡×™×¤×•×Ÿ",
                    "××™×§×•× ×‘×¨×– ×”×“×œ×§ ×•×©×™×˜×ª ×”×¤×¨×™×™××™× ×’",
                    "××¤×©×¨×•×™×•×ª ×”×“×××” ×‘×—×¨×•×",
                    "× ×™×ª×•×§ ×˜×¢×™× ×” ×××ª×— ×—×•×£ ×•×”×ª× ×¢×”",
                    "×‘×“×™×§×ª ×¤×œ×™×˜×ª ××™ ×™×",
                    "×‘×“×™×§×ª × ×–×™×œ×•×ª ×•×¨×¢×™×“×•×ª",
                    "×‘×“×™×§×ª ××ª×— ×”××¦×‘×¨×™×",
                    "×–×™×”×•×™ ××™×§×•× ××©××‘×ª ××™ ×”×™× (×’×³×‘×¡×§×•) ×•×¤×™×œ×˜×¨"
                ]
            },
            {
                category: "××¢×¨×›×ª ×”×¢×•×’×Ÿ",
                items: [
                    "×‘×“×™×§×ª ×©×œ××•×ª ×—×™×‘×•×¨ ×”×¢×•×’×Ÿ ×œ×©×¨×©×¨×ª ×•×œ×¡×¤×™× ×”",
                    "×”×™××¦××•×ª ××™×ª×¨ ××‘×˜×—×ª ×”×¢×•×’×Ÿ",
                    "×‘×“×™×§×ª ×”×›× × ×ª - ×”×•×¨×“×” ×•×”×¨××” ×œ×œ× ×”×›× ×¡×” ×œ××™×",
                    "××™×§×•× ××¤×¡×§ ×”×¢×•××¡ ×™×ª×¨",
                    "×‘×™×¨×•×¨ ××•×¨×š ×”×©×¨×©×¨×ª/×—×‘×œ ×•×”×—×œ×•×§×” ×‘×™× ×™×”×",
                    "×”×™××¦××•×ª ×™×“×™×ª ×”×•×¨×“×” ×™×“× ×™×ª ×•×©×™×˜×ª ×”×ª×¤×¢×•×œ",
                    "×‘×§×˜××¨×Ÿ - ×—×‘×œ ××©×•×œ×© ×œ×× ×™×¢×ª ×—×™×›×•×š ×¢× ×”×—×¨×˜×•×"
                ]
            },
            {
                category: "××¦×‘×¨×™× ×•×—×©××œ",
                items: [
                    "×–×™×”×•×™ ××™×§×•× ××¦×‘×¨×™ ×× ×•×¢, ×¦×¨×›× ×™×, ×¢×•×’×Ÿ ×•×—×¨×˜×•××Ÿ",
                    "×‘×“×™×§×ª ×˜×¢×™× ×” ×××ª×— ×—×•×£, ×× ×•×¢ ×•×¤×× ×œ×™× ×¡×•×œ××¨×™×™×",
                    "×‘×“×™×§×ª ××¦×‘×¨×™ ×¦×¨×›× ×™× ×‘×¢×•××¡ - ×”×¤×¢×œ×ª ×›×œ ×”×¦×¨×›× ×™×",
                    "××™×§×•× ××¤×¡×§×™ ×”×—×©××œ ×”×¨××©×™×™× ×œ×× ×•×¢ ×•×œ×¦×¨×›× ×™×"
                ]
            },
            {
                category: "××©××‘×•×ª",
                items: [
                    "××©××‘×•×ª ×©×™×¤×•×œ×™×™× - ××™×§×•× ×•×‘×“×™×§×ª ××¦×‘",
                    "×‘×“×™×§×ª ××¦×•×£ ××•×˜×•××˜×™ ×•×”×¤×¢×œ×” ××”×œ×•×—",
                    "××©××‘×•×ª ××™× ××ª×•×§×™× - ××˜×‘×—, ×©×™×¨×•×ª×™×, ××§×œ×—×ª",
                    "××©××‘×•×ª × ×™×§×•×– ××™ ××§×œ×—×•×ª - ×‘×“×™×§×ª ×ª×¤×¢×•×œ ×•×©××™×‘×”"
                ]
            },
            {
                category: "××™×›×œ×™ ××™× ××ª×•×§×™×",
                items: [
                    "×–×™×”×•×™ ×›×œ ×¤×ª×—×™ ×”××™×œ×•×™ ×¢×œ ×”×¡×™×¤×•×Ÿ",
                    "×”×™××¦××•×ª ×¦×™× ×•×¨ ××™×, ××—×‘×¨×™× ×•××ª×××™×",
                    "××™×§×•× ×‘×¨×–×™ ×”×—×œ×¤×ª ×”××™×›×œ×™×",
                    "×‘×™×¨×•×¨ ××§×•××•×ª ×œ××™×œ×•×™ ××™× ×‘××¡×œ×•×œ ×”×”×¤×œ×’×”",
                    "×”×¤×¢×œ×ª ×“×•×“ ×”×—×©××œ ×œ××§×œ×—×ª"
                ]
            },
            {
                category: "×¦×™×•×“ ×‘×˜×™×—×•×ª",
                items: [
                    "×ª×™×§ ×¢×–×¨×” ×¨××©×•× ×”",
                    "×—×’×•×¨×•×ª ×”×¦×œ×”, ×¨×ª××•×ª ×‘×˜×™×—×•×ª, ×¨×¦×•×¢×•×ª ×—×‘×œ ×—×™×™×",
                    "×’×œ×’×œ×™ ×”×¦×œ×” ×œ×¤×™ ×”×¨×©×™××”",
                    "×¤×™×¨×•×˜×›× ×™×§×” - ××™×§×•× ×•×ª×•×§×£",
                    "××˜×¤×™× - ××™×§×•× ×•××•×¤×Ÿ ×”×¤×¢×œ×” ×›×•×œ×œ ××˜×¤×” ××•×˜×•××˜×™",
                    "×”×’×” ×—×¨×•× - ×˜×™×œ×¨",
                    "×ª×§×™× ×•×ª ×¡×•×œ× ×”×™×¨×™×“×” ×œ××™×",
                    "×¦×•×¤×¨",
                    "××©×§×¤×ª",
                    "×¤× ×¡ ×©×’× ×“×•×œ×§",
                    "×¢×•×’×Ÿ ××©× ×™ ×¢× ×©×¨×©×¨×ª ×•×—×‘×œ ××ª××™×"
                ]
            },
            {
                category: "××œ×§×˜×¨×•× ×™×§×” ×•× ×™×•×•×˜",
                items: [
                    "××“ ×¢×•××§ - ×›×™×•×œ ×•×©×™×˜×ª ×”×’×“×¨×ª ×”×ª×¨×¢×”",
                    "GPS/×¦×³××¨×˜×¤×œ×•×˜×¨ - ×‘×“×™×§×ª ×“×™×•×§, ×”×›× ×¡×ª × ×§×•×“×•×ª, MOB",
                    "VHF - ×‘×“×™×§×ª ×§×©×¨ ××•×œ ××•×‘×™×œ ×”×¤×œ×•×˜×™×œ×”",
                    "×”×’×” ××•×˜×•××˜×™ - ×”×¤×¢×œ×”, ×ª×™×§×•× ×™ ×§×•×¨×¡, ×©××™×¨×ª ×›×™×•×•×Ÿ",
                    "×”×¤×¢×œ×ª ×ª××•×¨×ª ×™×•× ×•×œ×™×œ×” ×‘××›×©×™×¨×™ × ×™×•×•×˜",
                    "×‘×“×™×§×ª ×”×—×¨×˜×•××Ÿ (×× ×™×©)",
                    "×ª×§×™× ×•×ª ×•×™×¦×™×‘×•×ª ×’×œ×’×œ ×”×”×’×”"
                ]
            },
            {
                category: "×ª××•×¨×” ×•×œ×•×— ×—×©××œ",
                items: [
                    "××•×¨×•×ª × ×™×•×•×˜, ××•×¨ ×¢×’×™× ×”, ××•×¨ ×¡×™×¤×•×Ÿ",
                    "××•×¨×•×ª ×‘×§×‘×™× ×”, ×©×™×¨×•×ª×™× ×•×¡×œ×•×Ÿ",
                    "×”×›×¨×•×ª ×•×ª×¤×¢×•×œ ×œ×•×— ××¤×¡×§×™ ×”×—×©××œ",
                    "×™×›×•×œ×•×ª ×˜×¢×™× ×” - USB/AUX, ×©×§×¢ ××¦×™×ª"
                ]
            },
            {
                category: "×‘×ª×™ ×©×™××•×© ×•××§×œ×—×•×ª",
                items: [
                    "×”×¤×¢×œ×ª ××©××‘×•×ª ×”×“×—×” ×•×‘×“×™×§×ª ×¡×ª×™××•×ª",
                    "×–×™×”×•×™ ××™×›×œ×™ ×”×•×œ×“×™× ×’ ×•××™×§×•× ×‘×¨×– ×¨×™×§×•×Ÿ ×œ×™×",
                    "×–×™×”×•×™ ×¤×ª×—×™ ×©××™×‘×” ××”×¡×™×¤×•×Ÿ (Waste)",
                    "×”×¤×¢×œ×ª ×‘×¨×–×™ ××™× ×•××™×ª×•×¨ ×“×œ×™×¤×•×ª",
                    "×”×™××¦××•×ª ×¤×—×™ ××©×¤×” ×‘×›×œ ×—×“×¨×™ ×©×™×¨×•×ª×™×"
                ]
            },
            {
                category: "×§×‘×™× ×•×ª",
                items: [
                    "××¤×¡×§×™ ×”×“×œ×§×” ×œ×× ×•×¨×•×ª ×‘×§×‘×™× ×•×ª",
                    "×”×™××¦××•×ª ×¡×˜×™× ×©×œ ××¦×¢×™× ×•××’×‘×•×ª ×›××¡×¤×¨ ×”×¦×•×•×ª",
                    "×‘×“×™×§×ª ×××•×•×¨×¨×™× ×•×× ×•×¨×•×ª ×œ×™×œ×”"
                ]
            },
            {
                category: "××˜×‘×—",
                items: [
                    "×”×“×œ×§×ª ×”×›×™×¨×™×™× - ×›×œ ×”×œ×”×‘×•×ª ×“×•×œ×§×•×ª",
                    "×”×“×œ×§×ª ×”×ª× ×•×¨ - ×œ×”×‘×” ×“×•×œ×§×ª ×œ××•×¨×š ×–××Ÿ",
                    "××™×›×œ ×’×– ××œ× ×•×”×™××¦××•×ª ××™×›×œ × ×•×¡×£",
                    "×–×™×”×•×™ ××™×§×•× ×‘×¨×–×™ ×”×’×– ×‘××˜×‘×— ×•×‘×™×¨×›×ª×™×™×",
                    "×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”××§×¨×¨",
                    "×‘×“×™×§×ª ×›××•×ª ×›×œ×™ ××•×›×œ ×œ×¤×™ ×”×¨×©×™××”"
                ]
            },
            {
                category: "×©×•×œ×—×Ÿ ×”×¡×§×™×¤×¨",
                items: [
                    "×¤×™×™×œ×•×˜ ×‘×•×§ ×©×œ ××–×•×¨ ×”×”×¤×œ×’×”",
                    "××¤×•×ª × ×™×™×¨ ×©×œ ××–×•×¨ ×”×”×¤×œ×’×”",
                    "×¡×¨×’×œ, ××—×•×’×”, ×¢×™×¤×¨×•×Ÿ, ××—×§, ××—×“×“",
                    "××¦×¤×Ÿ ×ª×›×•×•×™× ×™×",
                    "××¤×ª×—×•×ª ×”× ×¢×™×œ×” ×œ×™××›×˜×”",
                    "×ª×™×§ ×”××¡××›×™× ××—×‘×¨×ª ×”×”×©×›×¨×”",
                    "×‘×“×™×§×ª ×”×©×•×§×¢ ×‘×ª×¢×•×“×ª ×”×¨×™×©×•×"
                ]
            },
            {
                category: "×¡×™×¨×ª ×“×™× ×’×™ ×•×× ×•×¢ ×—×™×¦×•×Ÿ",
                items: [
                    "×‘×“×™×§×ª ×ª×§×™× ×•×ª ×•×œ×—×¥ ××•×•×™×¨, × ×™×¤×•×— ×‘××§×¨×” ×”×¦×•×¨×š",
                    "×”×™××¦××•×ª ×¤×§×§×™×, ××©×•×˜×™×, ××©××‘×ª ×¨×’×œ ×•×¢×¨×›×ª ×ª×™×§×•×Ÿ",
                    "×‘×§×˜××¨×Ÿ - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×–×¨×•×¢×•×ª ×”×”×¨××”",
                    "×”×ª× ×¢×ª ×”×× ×•×¢ - ×‘×¨×– ×“×œ×§, ×¤×§×§ × ×©×, ×¦×³×•×§, ××©×‘×ª ×™×“× ×™",
                    "×‘×“×™×§×ª ×›××•×ª ×“×œ×§ ×•×”×™××¦××•×ª ××™×›×œ 5 ×œ×™×˜×¨ ××œ×",
                    "×—×‘×œ ××‘×˜×—×” ×œ×× ×•×¢",
                    "×—×‘×œ ×§×©×™×¨×ª ×”×“×™× ×’×™ ×‘×—×¨×˜×•× ×”×¡×™×¨×”"
                ]
            },
            {
                category: "××¢×¨×š ×”××¤×¨×©×™×",
                items: [
                    "×–×™×”×•×™ ×ª×¤×§×™×“ ×›×œ ×”××™×ª×¨×™× ×‘××¢×¨×š",
                    "×¤×ª×™×—×ª ×”××¤×¨×©×™× ×•×‘×“×™×§×ª ×©×œ××•×ª×",
                    "×–×™×”×•×™ ×©×™×˜×ª ×¦××¦×•× - ×¨××©×™ ××ª×’×œ×’×œ ×‘×ª×•×¨×Ÿ",
                    "×‘×“×™×§×ª ×¨×›×™×‘×™× - ×©××§×œ×™×, ×’×œ×’×œ×•×ª, ×•× ×˜×•×ª, ×œ×™×™×–×™ ×‘×’",
                    "×”×™××¦××•×ª ××¢×œ×Ÿ ×¡×¤×™× ××§×¨ ××—×“ ×œ×¤×—×•×ª"
                ]
            },
            {
                category: "×—×‘×œ×™× ×•××™×ª×¨×™×",
                items: [
                    "4 ×—×‘×œ×™ ×”×™×§×©×¨×•×ª - ××—×“ ×‘××•×¨×š 50 ××˜×¨ ×œ×—×•×£",
                    "×—×‘×œ×™ ×¨×ª×™×§×” ×•××™×‘×˜×•×—",
                    "×¡×¤×™×¨×ª ××™×ª×¨×™ ××‘×˜×•×— - × ×“×¨×©×™× 2-3 ××™×ª×¨×™×"
                ]
            },
            {
                category: "×—×œ×¤×™×",
                items: [
                    "×©×× ×™× - ×’×™×¨ ×•×× ×•×¢",
                    "××™ ×§×™×¨×•×¨ ×œ×× ×•×¢ (××¡×•×¤×§×™×)",
                    "××ª×××™ ×—×©××œ ×œ××ª×— ×—×•×£"
                ]
            }
        ];

        let checkedItems = {};
        let totalItems = 0;

        function initializeChecklist() {
            const container = document.getElementById('checklistContainer');
            container.innerHTML = '';
            
            checklistData.forEach((category, catIndex) => {
                totalItems += category.items.length;
                
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                categoryDiv.style.animationDelay = `${catIndex * 0.1}s`;
                
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'category-header';
                categoryHeader.innerHTML = `
                    <span>${category.category}</span>
                    <span class="arrow">â–¼</span>
                `;
                categoryHeader.onclick = () => toggleCategory(catIndex);
                
                const categoryContent = document.createElement('div');
                categoryContent.className = 'category-content';
                categoryContent.id = `category-${catIndex}`;
                
                category.items.forEach((item, itemIndex) => {
                    const itemId = `${catIndex}-${itemIndex}`;
                    
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'checklist-item';
                    itemDiv.onclick = () => toggleItem(itemId);
                    
                    itemDiv.innerHTML = `
                        <div class="checkbox-wrapper">
                            <div class="checkbox" id="checkbox-${itemId}">
                                <span class="checkmark">âœ“</span>
                            </div>
                        </div>
                        <div class="item-text" id="text-${itemId}">${item}</div>
                    `;
                    
                    categoryContent.appendChild(itemDiv);
                });
                
                categoryDiv.appendChild(categoryHeader);
                categoryDiv.appendChild(categoryContent);
                container.appendChild(categoryDiv);
            });
            
            // Load saved state
            loadState();
            updateProgress();
        }

        function toggleCategory(index) {
            const content = document.getElementById(`category-${index}`);
            const arrow = event.currentTarget.querySelector('.arrow');
            
            content.classList.toggle('open');
            arrow.classList.toggle('open');
        }

        function toggleItem(itemId) {
            const checkbox = document.getElementById(`checkbox-${itemId}`);
            const text = document.getElementById(`text-${itemId}`);
            
            checkedItems[itemId] = !checkedItems[itemId];
            
            if (checkedItems[itemId]) {
                checkbox.classList.add('checked');
                text.classList.add('checked');
            } else {
                checkbox.classList.remove('checked');
                text.classList.remove('checked');
            }
            
            saveState();
            updateProgress();
        }

        function updateProgress() {
            const checkedCount = Object.values(checkedItems).filter(v => v).length;
            const percentage = Math.round((checkedCount / totalItems) * 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = percentage + '%';
            document.getElementById('statsText').textContent = 
                `${checkedCount} ××ª×•×š ${totalItems} ×¤×¨×™×˜×™× ×”×•×©×œ××•`;
        }

        function saveState() {
            localStorage.setItem('yachtChecklist', JSON.stringify(checkedItems));
        }

        function loadState() {
            const saved = localStorage.getItem('yachtChecklist');
            if (saved) {
                checkedItems = JSON.parse(saved);
                Object.keys(checkedItems).forEach(itemId => {
                    if (checkedItems[itemId]) {
                        const checkbox = document.getElementById(`checkbox-${itemId}`);
                        const text = document.getElementById(`text-${itemId}`);
                        if (checkbox && text) {
                            checkbox.classList.add('checked');
                            text.classList.add('checked');
                        }
                    }
                });
            }
        }

        function resetChecklist() {
            if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××¤×¡ ××ª ×›×œ ×”×¨×©×™××”?')) {
                checkedItems = {};
                localStorage.removeItem('yachtChecklist');
                
                document.querySelectorAll('.checkbox').forEach(cb => {
                    cb.classList.remove('checked');
                });
                document.querySelectorAll('.item-text').forEach(text => {
                    text.classList.remove('checked');
                });
                
                updateProgress();
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initializeChecklist);
    </script>
</body>
</html>
